  [1m[36m (510.3ms)[0m  [1mselect * from information_schema.columns where table_name='superclass_migration'[0m
  [1m[36m (25.4ms)[0m  [1mselect * from information_schema.columns where table_name='superclass_migration'[0m
  [1m[36m (26.1ms)[0m  [1mselect * from information_schema.columns where table_name='superclass_migration'[0m
  [1m[36m (24.6ms)[0m  [1mselect * from information_schema.columns where table_name='superclass_migration'[0m
  [1m[36m (0.5ms)[0m  [1mselect * from information_schema.columns where table='superclass_migration'[0m
PG::SyntaxError: ERROR:  syntax error at or near "table"
LINE 1: select * from information_schema.columns where table='superc...
                                                       ^
: select * from information_schema.columns where table='superclass_migration'
  [1m[36m (31.4ms)[0m  [1mselect * from information_schema.columns where table_name='superthings'[0m
  [1m[36m (35.9ms)[0m  [1mselect * from information_schema.columns where table_name='superthings'[0m
  [1m[36m (28.6ms)[0m  [1mselect * from information_schema.columns where table_name='superthings'[0m
  [1m[36m (23.8ms)[0m  [1mselect * from information_schema.columns where table_name='superthings'[0m
  [1m[36m (215.3ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (89.5ms)[0m  select * from information_schema.columns where table_name='superthings'
  [1m[36m (7.3ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[36m (26.1ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (41.2ms)[0m  select * from information_schema.columns where table_name='superthings'
  [1m[36m (10.7ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[36m (21.1ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (32.9ms)[0m  select * from information_schema.columns where table_name='superthings'
  [1m[36m (4.9ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[36m (30.0ms)[0m  [1mselect * from information_schema.columns where table_name='superthings'[0m
  [1m[36m (25.4ms)[0m  [1mselect * from information_schema.columns where table_name='superthings'[0m
  [1m[36m (34.5ms)[0m  [1mselect column_name from information_schema.columns where table_name='superthings'[0m
  [1m[36m (28.4ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.9ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.6ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (55.8ms)[0m  select column_name from information_schema.columns where table_name='superthings'
  [1m[36m (5.6ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (10.9ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (11.8ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[36m (24.8ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.2ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (15.6ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (28.3ms)[0m   select column_name from information_schema.columns where table_name='superthings'

  [1m[36m (5.5ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (4.0ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (6.6ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[36m (19.0ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.3ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (22.6ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (24.9ms)[0m   select column_name from information_schema.columns where table_name='superthings'

  [1m[36m (4.9ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (5.1ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (4.4ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[36m (68.7ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.3ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (11.0ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (35.8ms)[0m   select column_name from information_schema.columns where table_name='superthings'

  [1m[36m (5.0ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (4.0ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (4.9ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[36m (19.9ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.5ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (19.2ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (24.2ms)[0m   select column_name from information_schema.columns where table_name='superthings'

  [1m[36m (5.8ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (8.0ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (7.9ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[36m (0.9ms)[0m  [1mDROP TABLE "subthing_twos"[0m
PG::UndefinedTable: ERROR:  table "subthing_twos" does not exist
: DROP TABLE "subthing_twos"
  [1m[36m (32.0ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.4ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.5ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (85.6ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (44.3ms)[0m  [1m select * from information_schema.columns where table_name='superthings'
[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
PG::DuplicateColumn: ERROR:  column "subthing_ones_id" of relation "superthings" already exists
: ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (8.3ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
PG::DuplicateTable: ERROR:  relation "superthings" already exists
: CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[35m (3.3ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
PG::DuplicateColumn: ERROR:  column "subthing_ones_id" of relation "superthings" already exists
: ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (19.3ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
PG::DuplicateTable: ERROR:  relation "superthings" already exists
: CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[35m (1.6ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
PG::DuplicateColumn: ERROR:  column "subthing_ones_id" of relation "superthings" already exists
: ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (16.2ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
PG::DuplicateTable: ERROR:  relation "superthings" already exists
: CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[35m (3.4ms)[0m  DROP TABLE "subthing_twos"
PG::DependentObjectsStillExist: ERROR:  cannot drop table subthing_twos because other objects depend on it
DETAIL:  constraint superthings_subthing_twos_id_fkey on table superthings depends on table subthing_twos
HINT:  Use DROP ... CASCADE to drop the dependent objects too.
: DROP TABLE "subthing_twos"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (8.2ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
PG::DuplicateTable: ERROR:  relation "superthings" already exists
: CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (5.2ms)[0m  [1mDROP TABLE "subthing_twos"[0m
PG::DependentObjectsStillExist: ERROR:  cannot drop table subthing_twos because other objects depend on it
DETAIL:  constraint superthings_subthing_twos_id_fkey on table superthings depends on table subthing_twos
HINT:  Use DROP ... CASCADE to drop the dependent objects too.
: DROP TABLE "subthing_twos"
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (3.2ms)[0m  [1mBEGIN[0m
  [1m[35m (18.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (10.2ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (19.6ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (36.1ms)[0m   select * from information_schema.columns where table_name='superthings'

  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (7.3ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (3.3ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "superthings"
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (15.5ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (14.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (25.9ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (3.3ms)[0m  COMMIT
  [1m[36m (47.3ms)[0m  [1m select * from information_schema.columns where table_name='superthings'
[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
PG::DuplicateColumn: ERROR:  column "subthing_ones_id" of relation "superthings" already exists
: ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (14.9ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.8ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (34.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (5.5ms)[0m  COMMIT
  [1m[36m (32.8ms)[0m  [1m select * from information_schema.columns where table_name='superthings'
[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
PG::DuplicateColumn: ERROR:  column "subthing_ones_id" of relation "superthings" already exists
: ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id)  REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (20.3ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.2ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (26.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (5.7ms)[0m  COMMIT
  [1m[36m (49.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings'
[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (6.6ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (3.1ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (3.1ms)[0m  DROP TABLE "superthings"
  [1m[36m (9.5ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (24.2ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.2ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.7ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (22.9ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (4.8ms)[0m  COMMIT
  [1m[36m (11.0ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (26.4ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (6.8ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.8ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.6ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (17.4ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (14.6ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.0ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (25.0ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (13.1ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (15.2ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (8.2ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.6ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (22.6ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (16.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (38.4ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (13.5ms)[0m  COMMIT
  [1m[36m (8.8ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (21.3ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (5.1ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (3.1ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.2ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (14.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (11.9ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.3ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.6ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (26.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (5.1ms)[0m  COMMIT
  [1m[36m (9.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (21.9ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[35m (14.0ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.6ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (4.7ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (6.3ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (11.1ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.7ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (15.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (3.9ms)[0m  COMMIT
  [1m[36m (6.3ms)[0m  [1m select * from information_schema.columns where table_name=superthings
[0m
PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name=superthing...
                                                             ^
:       select * from information_schema.columns where table_name=superthings

  [1m[35m (0.8ms)[0m   select * from information_schema.columns where table_name=superthings

PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name=superthing...
                                                             ^
:       select * from information_schema.columns where table_name=superthings

  [1m[36m (20.5ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (18.6ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35m (5.7ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (4.2ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (4.9ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (10.0ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (5.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (17.1ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (24.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (18.1ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (13.0ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (5.9ms)[0m  [1m select * from information_schema.columns where table_name="superthings"
[0m
PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings"

  [1m[35m (0.6ms)[0m   select * from information_schema.columns where table_name="superthings"

PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings"

  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (5.8ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.7ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.8ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.7ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (18.3ms)[0m  COMMIT
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (16.7ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (2.9ms)[0m  COMMIT
  [1m[36m (10.2ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (28.0ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (4.6ms)[0m  [1m select * from information_schema.columns where table_name="superthings";
[0m
PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[35m (0.9ms)[0m   select * from information_schema.columns where table_name="superthings";

PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (5.4ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.7ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (3.1ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (18.2ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (24.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (3.5ms)[0m  COMMIT
  [1m[36m (6.0ms)[0m  [1m select * from information_schema.columns where table_name="superthings";
[0m
PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[35m (1.3ms)[0m   select * from information_schema.columns where table_name="superthings";

PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[36m (14.3ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (1.2ms)[0m   select * from information_schema.columns where table_name="superthings";

PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[36m (0.7ms)[0m  [1m select * from information_schema.columns where table_name="superthings";
[0m
PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[35m (25.6ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (5.7ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.9ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.8ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (10.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (20.7ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.8ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (12.4ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (15.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (9.9ms)[0m  COMMIT
  [1m[36m (15.5ms)[0m  [1m select * from information_schema.columns where table_name="superthings";
[0m
PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[35m (1.1ms)[0m   select * from information_schema.columns where table_name="superthings";

PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (6.4ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.4ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (3.8ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (4.2ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (12.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (30.8ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.5ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
PG::UndefinedObject: ERROR:  constraint "id_fkey" of relation "subthing_ones" does not exist
: ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (29.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (11.3ms)[0m   select * from information_schema.columns where table_name="superthings";

PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[36m (0.5ms)[0m  [1m select * from information_schema.columns where table_name="superthings";
[0m
PG::UndefinedColumn: ERROR:  column "superthings" does not exist
LINE 1: ... from information_schema.columns where table_name="superthin...
                                                             ^
:       select * from information_schema.columns where table_name="superthings";

  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (1.7ms)[0m  [1mDROP TABLE "subthing_twos"[0m
PG::DependentObjectsStillExist: ERROR:  cannot drop table subthing_twos because other objects depend on it
DETAIL:  constraint superthings_subthing_twos_id_fkey on table superthings depends on table subthing_twos
HINT:  Use DROP ... CASCADE to drop the dependent objects too.
: DROP TABLE "subthing_twos"
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSuperthings (20131029213145)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
PG::DuplicateTable: ERROR:  relation "superthings" already exists
: CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSuperthings (20131029213145)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (28.9ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
PG::DuplicateTable: ERROR:  relation "superthings" already exists
: CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (28.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
PG::DuplicateTable: ERROR:  relation "superthings" already exists
: CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (3.2ms)[0m  [1mDROP TABLE "subthing_twos"[0m
PG::DependentObjectsStillExist: ERROR:  cannot drop table subthing_twos because other objects depend on it
DETAIL:  constraint superthings_subthing_twos_id_fkey on table superthings depends on table subthing_twos
HINT:  Use DROP ... CASCADE to drop the dependent objects too.
: DROP TABLE "subthing_twos"
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (9.6ms)[0m  [1mBEGIN[0m
  [1m[35m (14.3ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (16.5ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (41.1ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (13.4ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
PG::UndefinedObject: ERROR:  constraint "id_fkey" of relation "subthing_ones" does not exist
: ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (15.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (9.7ms)[0m  [1mDROP TABLE "subthing_twos"[0m
PG::DependentObjectsStillExist: ERROR:  cannot drop table subthing_twos because other objects depend on it
DETAIL:  constraint superthings_subthing_twos_id_fkey on table superthings depends on table subthing_twos
HINT:  Use DROP ... CASCADE to drop the dependent objects too.
: DROP TABLE "subthing_twos"
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (17.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.3ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.5ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (21.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (39.3ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (15.9ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (7.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (27.5ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (17.4ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (22.1ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (5.5ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (11.3ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (11.8ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.0ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (12.5ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (16.4ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (2.8ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (43.0ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (16.7ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (30.9ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (15.6ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (16.8ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (2.0ms)[0m  [1mBEGIN[0m
  [1m[35m (5.6ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.7ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (5.8ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (3.5ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (5.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
PG::DuplicateTable: ERROR:  relation "superthings" already exists
: CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (7.3ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.8ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.5ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "superthings"
  [1m[36m (18.2ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (23.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.8ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (23.6ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36m (12.3ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (47.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (17.3ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (21.7ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (16.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (16.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (6.7ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (4.3ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (3.9ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (20.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.2ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (18.2ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (15.9ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36m (19.6ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (33.7ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (16.3ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (86.1ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (20.8ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (17.5ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (7.6ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (3.4ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.9ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.7ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (21.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (19.2ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (10.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.2ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (25.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (8.4ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (32.7ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.2ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (23.9ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (18.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (15.8ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (7.6ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.8ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.7ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (23.4ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.3ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.4ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (3.0ms)[0m  COMMIT
  [1m[36m (50.7ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (20.6ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (10.5ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (22.6ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (16.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (26.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (16.6ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (5.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (3.0ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (12.5ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "superthings"
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (33.1ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (15.3ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (8.5ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (59.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (26.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (17.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (20.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (18.7ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (13.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (3.1ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (14.4ms)[0m  DROP TABLE "superthings"
  [1m[36m (10.2ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (22.7ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.8ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (12.7ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.9ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (11.2ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (17.1ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (15.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (5.6ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (12.6ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (11.6ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.4ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (37.6ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (3.2ms)[0m  COMMIT
  [1m[36m (11.2ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (15.1ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (13.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (10.2ms)[0m  BEGIN
  [1m[36m (5.5ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (4.2ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.6ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (6.8ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1030.6ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (329.3ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (50.0ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (23.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (11.6ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (37.8ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (11.2ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (14.4ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (25.7ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (17.3ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (5.9ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.8ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (12.2ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (5.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (120.5ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.5ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (14.2ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (13.5ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (38.5ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (16.6ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (10.0ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (20.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (17.6ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (28.4ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (5.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (3.0ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.7ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "superthings"
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (13.9ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.7ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (23.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (32.9ms)[0m  COMMIT
  [1m[36m (10.1ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (36.7ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (14.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (10.2ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (13.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (27.6ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (19.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (18.3ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.2ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "superthings"
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (11.8ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.2ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (11.0ms)[0m  COMMIT
  [1m[36m (12.3ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (29.7ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (13.8ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (8.9ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (12.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (15.8ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (14.5ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (18.1ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.5ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "superthings"
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (14.4ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.8ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36m (10.4ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (30.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.5ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (9.1ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (14.3ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (15.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (14.8ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (2.3ms)[0m  BEGIN
  [1m[36m (11.8ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.9ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.6ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (3.5ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.3ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (68.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.8ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.2ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (28.5ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (14.6ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (10.5ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (12.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (14.6ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (16.3ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (4.7ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (12.5ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (15.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (4.3ms)[0m  COMMIT
  [1m[36m (8.4ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (14.2ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (24.7ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.2ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (11.9ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (15.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.9ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (4.8ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.6ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.5ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (12.4ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.3ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.2ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (2.8ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (5.5ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.5ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.2ms)[0m  COMMIT
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (11.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36m (9.2ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (27.2ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (16.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (10.1ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (12.6ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (15.0ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (18.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (4.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "superthings"
  [1m[36m (5.8ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (11.6ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (16.6ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (5.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (8.2ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.9ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.0ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (34.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (9.8ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.6ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.6ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (7.4ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.6ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.2ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.0ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (5.3ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (10.7ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.2ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (12.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (2.8ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (5.3ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.2ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.9ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (10.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (30.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (14.6ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (6.2ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (18.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (9.6ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (13.3ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (12.6ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "containers"
  [1m[36m (4.8ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (10.8ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.7ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (12.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (2.7ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (5.6ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.2ms)[0m  COMMIT
  [1m[36m (1.2ms)[0m  [1mBEGIN[0m
  [1m[35m (7.9ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.4ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (11.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.5ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (8.3ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (13.9ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (25.2ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (13.5ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (12.4ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (17.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.9ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (3.1ms)[0m  DROP TABLE "containers"
  [1m[36m (4.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (12.1ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (22.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (11.6ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.7ms)[0m  BEGIN
  [1m[36m (3.9ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (13.4ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (4.3ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (3.1ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (5.0ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35m (11.4ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.4ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.4ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (7.6ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (37.9ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.8ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (9.9ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (14.1ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (16.2ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (32.8ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (4.0ms)[0m  DROP TABLE "containers"
  [1m[36m (7.1ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (3.9ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (3.3ms)[0m  DROP TABLE "superthings"
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (11.3ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.5ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.4ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (27.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (21.5ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.4ms)[0m  BEGIN
  [1m[36m (2.9ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (6.3ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.5ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.4ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (10.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (8.8ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (12.4ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.0ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (10.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (14.8ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (31.3ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (36.1ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (14.5ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (24.1ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (16.4ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (23.1ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "containers"
  [1m[36m (5.3ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.2ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.8ms)[0m  DROP TABLE "superthings"
  [1m[36m (24.3ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (19.2ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (31.5ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (14.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (7.0ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (9.3ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (14.6ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (13.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (12.9ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (3.4ms)[0m  DROP TABLE "containers"
  [1m[36m (6.2ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.0ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (13.1ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (7.5ms)[0m  [1mCREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.8ms)[0m  COMMIT
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "containers"
  [1m[36m (5.7ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.4ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (10.7ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (8.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (14.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (8.1ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.7ms)[0m  BEGIN
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (5.2ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.6ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.5ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (12.2ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (8.0ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (7.9ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (40.5ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.2ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (9.7ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (13.3ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (17.5ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (13.8ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "containers"
  [1m[36m (6.0ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.2ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.2ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.2ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (14.2ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (6.0ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.8ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (12.6ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (16.4ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (28.8ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (15.9ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (9.4ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (11.9ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (16.2ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (13.9ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "containers"
  [1m[36m (5.2ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "superthings"
  [1m[36m (13.8ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (10.6ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.5ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.0ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (18.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (11.1ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (32.1ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.4ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (6.8ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (9.9ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (13.9ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (12.5ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "containers"
  [1m[36m (4.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (8.2ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.6ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.3ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (12.6ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (49.7ms)[0m  [1mCREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.9ms)[0m  COMMIT
  [1m[36m (2.0ms)[0m  [1mBEGIN[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "containers"
  [1m[36m (5.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.6ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (10.9ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.6ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (23.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (9.0ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.3ms)[0m  BEGIN
  [1m[36m (2.9ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (5.9ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (3.2ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (6.8ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (9.2ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.0ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.8ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (15.1ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (8.1ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (22.9ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (24.1ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (15.9ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (14.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (15.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "containers"
  [1m[36m (6.1ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (11.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.9ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (25.0ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36m (2.9ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (5.4ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.6ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.7ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (12.0ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.6ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (9.2ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (29.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (13.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (9.0ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (14.0ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (19.8ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (15.0ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (5.3ms)[0m  DROP TABLE "containers"
  [1m[36m (6.1ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.2ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.7ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (14.5ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.9ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (21.6ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (8.1ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (2.9ms)[0m  BEGIN
  [1m[36m (3.3ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (5.4ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.2ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.6ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (8.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.2ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (11.9ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (7.6ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (19.7ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (24.3ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (14.6ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (13.4ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (14.2ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (15.4ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (9.3ms)[0m  DROP TABLE "containers"
  [1m[36m (6.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (3.4ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "superthings"
  [1m[36m (60.5ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (10.5ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (18.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.6ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (8.3ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (2.0ms)[0m  BEGIN
  [1m[36m (2.8ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (5.6ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.4ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (3.2ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.4ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (11.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (12.3ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.8ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.4ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.2ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (7.7ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (40.6ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.7ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (8.8ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (11.8ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (17.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (13.8ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "containers"
  [1m[36m (4.8ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (3.0ms)[0m  DROP TABLE "superthings"
  [1m[36m (14.6ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.8ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (9.6ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (31.6ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (16.6ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (7.2ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (14.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (9.4ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (13.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (12.0ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (2.8ms)[0m  DROP TABLE "containers"
  [1m[36m (4.8ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "superthings"
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.6ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (14.0ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (7.3ms)[0m  [1mCREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.6ms)[0m  COMMIT
  [1m[36m (2.3ms)[0m  [1mBEGIN[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "containers"
  [1m[36m (5.5ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.8ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.6ms)[0m  DROP TABLE "superthings"
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (12.3ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (11.5ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.9ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (14.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (9.0ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (3.3ms)[0m  BEGIN
  [1m[36m (3.2ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (6.5ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.4ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.7ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (9.8ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (18.1ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.4ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (20.0ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (12.0ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (8.5ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (17.8ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (25.7ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (58.6ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (18.5ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.7ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (1.6ms)[0m  [1mBEGIN[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "containers"
  [1m[36m (5.3ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.8ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.9ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (19.6ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.8ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.5ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.3ms)[0m  BEGIN
  [1m[36m (2.9ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (5.2ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (4.1ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.8ms)[0m  COMMIT
  [1m[36m (2.5ms)[0m  [1mBEGIN[0m
  [1m[35m (8.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.3ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.9ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.8ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (5.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (9.2ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (29.0ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (22.7ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.9ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (16.9ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (15.5ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (22.6ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.2ms)[0m  DROP TABLE "containers"
  [1m[36m (4.9ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (3.4ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (3.0ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.8ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.6ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (6.8ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (14.4ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (12.2ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.7ms)[0m  BEGIN
  [1m[36m (3.1ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (5.0ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (5.1ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.9ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (9.5ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (20.0ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (26.0ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (14.9ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (13.1ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (16.9ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (16.0ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "containers"
  [1m[36m (4.8ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "superthings"
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (14.1ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.0ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (14.9ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (18.2ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36m (3.1ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (6.9ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (5.8ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.5ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.4ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (11.0ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (13.0ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (10.1ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (6.9ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (31.6ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (17.8ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (11.1ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (15.8ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (17.7ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (16.2ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (2.7ms)[0m  [1mBEGIN[0m
  [1m[35m (3.3ms)[0m  DROP TABLE "containers"
  [1m[36m (6.4ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.5ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (17.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (9.2ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (2.6ms)[0m  [1mDROP TABLE "containers"[0m
  [1m[35m (4.9ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "subthing_twos"[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "subthing_ones"
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "superthings"[0m
  [1m[35m (4.7ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (10.4ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (9.7ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (7.1ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (14.7ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (8.3ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (9.4ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (26.7ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.7ms)[0m   select * from information_schema.constraint_column_usage where table_name='superthings';

  [1m[36m (17.8ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.0ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (14.9ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.6ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "containers"
  [1m[36m (5.1ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (3.3ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "superthings"
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (26.6ms)[0m  CREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (9.8ms)[0m  CREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (21.8ms)[0m  [1mALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;[0m
  [1m[35m (17.8ms)[0m  CREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (37.1ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (15.0ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (7.3ms)[0m  ALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;
  [1m[36m (16.1ms)[0m  [1m select * from information_schema.columns where table_name='superthings';
[0m
  [1m[35m (14.5ms)[0m   select * from information_schema.columns where table_name='superthings';

  [1m[36m (9.0ms)[0m  [1m select * from information_schema.constraint_column_usage where table_name='superthings';
[0m
  [1m[35m (17.5ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "containers"
  [1m[36m (5.2ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.1ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE "superthings" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (10.8ms)[0m  CREATE TABLE "subthing_ones" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (32.3ms)[0m  [1mCREATE TABLE "subthing_twos" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (14.7ms)[0m  ALTER TABLE superthings ADD COLUMN subthing_ones_id BIGINT NOT NULL UNIQUE REFERENCES subthing_ones(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD COLUMN subthing_twos_id BIGINT NOT NULL UNIQUE REFERENCES subthing_twos(id) DEFERRABLE INITIALLY DEFERRED;ALTER TABLE superthings ADD CONSTRAINT superthings_xor CHECK ( (subthing_ones_id IS NOT NULL)::INTEGER + (subthing_twos_id IS NOT NULL)::INTEGER = 1 );ALTER TABLE subthing_ones ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_ones_id) DEFERRABLE INITIALLY DEFERRED ;ALTER TABLE subthing_twos ADD CONSTRAINT id_fkey FOREIGN KEY(id) REFERENCES superthings(subthing_twos_id) DEFERRABLE INITIALLY DEFERRED ;
  [1m[36m (10.9ms)[0m  [1mCREATE TABLE "containers" ("id" serial primary key, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (26.5ms)[0m  COMMIT
  [1m[36m (12.8ms)[0m  [1mBEGIN[0m
  [1m[35m (2.3ms)[0m  DROP TABLE "containers"
  [1m[36m (5.4ms)[0m  [1mALTER TABLE subthing_ones DROP CONSTRAINT id_fkey;ALTER TABLE subthing_twos DROP CONSTRAINT id_fkey;ALTER TABLE superthings DROP CONSTRAINT superthings_xor;ALTER TABLE superthings DROP COLUMN subthing_ones_id;ALTER TABLE superthings DROP COLUMN subthing_twos_id;[0m
  [1m[35m (2.7ms)[0m  DROP TABLE "subthing_twos"
  [1m[36m (2.3ms)[0m  [1mDROP TABLE "subthing_ones"[0m
  [1m[35m (2.4ms)[0m  DROP TABLE "superthings"
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
